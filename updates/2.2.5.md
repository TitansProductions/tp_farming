# What has been updated?

## Changelog - (Added, Fixed, Removed):

1. Edited wagon water prompts, because i used prompt actions, the prompts would break or disable stable wagon prompts (for those models only). Those actions are now through keyboard keys and text display for performing those actions as tips.

2. Added extra wagon data (`wagon_id`) which is for supporting stable scripts. This is only for those who want to use a stable script to be connected with those wagon

3. Fixed a glitch that could happen when they were taking water from the wagon and refilling the wagon with the same water they took, it would refill the wagon with the value that is taken from the rivers.

## Modified Files:

- client/tp-client_functions.lua
- client/tp-client_water_source.lua
- client/tp-server_water_source.lua
- client/tp-server_escrow_allow.lua
- config.lua (check notes)
- fxmanifest.lua

## Notes

1. Modified `Config.WagonsPromptKeys` configuration option to new label which is for the new feature.

```lua
Config.WagonsPromptKeys = {
    ['DRAW']    = {label = "Press ~t4~[L]~q~ to ~t3~draw water",  key = 'L' },
    ['REFILL']  = {label = "Press ~t4~[R]~q~ to ~t3~refill barrel / tank", key = 'R' },
    ['GET']     = {label = "Press ~t4~[DOWN]~q~ to get a ~t3~water bucket", key = 'DOWN' },
}
```

2. Add on the `Config.Keys` the new key which we use:

`['L'] = 0x80F28E95`

## Screenshots

<img width="986" height="768" alt="image" src="https://github.com/user-attachments/assets/3df4fa9e-df50-4d21-af29-f2bb2596c447" />

## How to update?

- You can easily update the modified files by redownloading from the **Cfx.re Portal** and copy-paste on the mentioned directory file paths.
- If new options have been implemented to the configuration file or edited, **DO NOT** copy-paste the new configuration file, otherwise you will get the latest configuration but you will lose all the changes you have made. The proper way updating a configuration file is by finding the new configuration options or the modified ones and do it **manually**.

*Cfx.re Portal **DOES NOT** force-update your configuration file or any files, if it did, you would always lose all the configuration changes you made or would totally break the script, all files are updated or edited manually.*
